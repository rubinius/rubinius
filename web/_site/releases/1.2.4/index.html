<!DOCTYPE html>
<html dir="ltr" lang="en">

  <head>
    <title>Rubinius : Use Ruby&#8482;</title>
  	<meta charset="UTF-8">
  	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <meta content='en' http-equiv='content-language'>
    <meta content='Rubinius is an implementation of the Ruby programming language. The Rubinius bytecode virtual machine is written in C++. The bytecode compiler is written in pure Ruby. The vast majority of the core library is also written in Ruby, with some supporting primitives that interact with the VM directly.' name='description'>
    <link href='/' rel='home'>
    <link href='/' rel='start'>
    
    
    
    <!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script><![endif]-->
    <script src="/javascripts/jquery-1.3.2.js"></script>
    <script src="/javascripts/paging_keys.js"></script>
    
    <script src="/javascripts/application.js"></script>
    <style>article, aside, dialog, figure, footer, header, hgroup, menu, nav, section { display: block; }</style>

    <link href="/stylesheets/blueprint/screen.css" media="screen" rel="stylesheet" />
    <link href="/stylesheets/application.css"      media="screen" rel="stylesheet" />
    <link href="/stylesheets/blueprint/print.css"  media="print"  rel="stylesheet" />
    <!--[if IE]><link href="/stylesheets/blueprint/ie.css" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
    <!--[if IE]><link href="/stylesheets/ie.css"           media="screen" rel="stylesheet" type="text/css" /><![endif]-->
    <link href="/stylesheets/pygments.css" media="screen" rel="stylesheet" />

    <link href="/favicon.ico"                 rel="shortcut icon"    type="image/vnd.microsoft.icon" />
    <link href="/images/apple-touch-icon.png" rel="apple-touch-icon" type="image/png" />
    <link href="/images/apple-touch-icon.png" rel="apple-touch-icon" type="image/png" sizes="72x72"   />
    <link href="/images/apple-touch-icon.png" rel="apple-touch-icon" type="image/png" sizes="114x114" />
  </head>

  <body>
    <div class='container'>
  <div class='span-21'>
    <header>
      <nav>
  <ul>
    <li><a href="/">Home</a></li>
    <li><a id="blog" href="/blog">Blog</a></li>
    <li><a id="documentation" href="/doc/en">Documentation</a></li>
    <li><a href="/projects">Projects</a></li>
    <li><a href="/roadmap">Roadmap</a></li>
    <li><a href="/releases">Releases</a></li>
  </ul>
</nav>

      <h1><a href="/">Rubinius</a></h1>
      <h2 class="tag_line">Use Ruby&#8482;</h2>
    </header>
  </div>

  <div class='span-3 last'>
  <div id='version'>
    <a href="/releases/1.2.4">1.2.4</a>
  </div>
</div>

</div>

  <div class='container'>
    <div class='release'>
      <h2 id="overview">Overview</h2>

<p>The Rubinius team is proud to announce the availability of 1.2.4.</p>

<p>1.2.4 is a bugfix release for 1.2.3. It contains a large number of bug and
compatibility fixes as well as a handful of performance improvements.</p>

<p>Starting with this release, the github repository has changed.
It is now located at <a href="http://github.com/rubinius/rubinius">http://github.com/rubinius/rubinius</a>.</p>

<h2 id="about">About</h2>

<p>Rubinius is a high performance environment for running code written in the
Ruby programming language. It provides a number of virtual machine features
found in other popular language runtimes such as generational garbage
collection, Just-In-Time compilation, and compatibility with existing C APIs.</p>

<h2 id="summary">Summary</h2>

<h4 id="stats">Stats</h4>

<ul>
  <li><strong>Release Date:</strong> Jul 05, 2011</li>
  <li><strong>Commits:</strong> 675</li>
  <li><strong>Days since last release:</strong> 112</li>
  <li><strong>Issues fixed:</strong> 49 since 1.2.3</li>
</ul>

<h4 id="authors">Authors</h4>

<ul>
  <li>Evan Phoenix</li>
  <li>Brian Ford</li>
  <li>Pavel Argentov</li>
  <li>Dirkjan Bussink</li>
  <li>burningTyger</li>
  <li>Nikolai Lugovoi</li>
  <li>Karol Hosiawa</li>
  <li>Maximilian Lupke</li>
  <li>Chuck Remes</li>
  <li>Shane Becker</li>
  <li>nazgob</li>
  <li>Max Lupke</li>
  <li>Charles Oliver Nutter</li>
  <li>MenTaLguY</li>
  <li>Flavio Castelli</li>
  <li>Aman Gupta</li>
  <li>Gibheer</li>
  <li>Ivan Samsonov</li>
  <li>heron lee medeiros</li>
  <li>Victor Costan</li>
  <li>Wayne E. Seguin</li>
  <li>Jorge Dias</li>
  <li>Konstantin Haase</li>
  <li>Christopher Bertels</li>
  <li>Peter Suschlik</li>
  <li>Samsonov Ivan</li>
  <li>David Czarnecki</li>
  <li>Jesse Cooke</li>
  <li>Tony Arcieri</li>
  <li>eianco</li>
  <li>Brian Miller</li>
  <li>srawlins</li>
  <li>Heron Medeiros</li>
  <li>Markus Prinz</li>
  <li>Franck Verrot</li>
  <li>Lars Gierth</li>
  <li>Matthew Draper</li>
  <li>Dudley Flanders</li>
  <li>Josep M. Bach</li>
  <li>Herminio Torres</li>
  <li>Chris Bunch</li>
  <li>Wim Looman</li>
  <li>Graham Batty</li>
  <li>jc00ke</li>
  <li>Dr Nic Williams</li>
  <li>Aaron Patterson</li>
  <li>Jano González</li>
  <li>Gonçalo Silva</li>
  <li>Gildo Fiorito</li>
  <li>Jeremy Evans</li>
  <li>George Ogata</li>
  <li>Lionel Orry</li>
  <li>Matthijs van der Vleuten</li>
  <li>Mike Perham</li>
  <li>Petr Hosek</li>
  <li>Postmodern</li>
  <li>Przemek Owczarek</li>
  <li>Przemysław Grzegorczyk</li>
  <li>Santosh Kumar</li>
  <li>Stanislav Sedov</li>
  <li>Chris Lee</li>
  <li>Steve Klabnik</li>
  <li>fyskij</li>
  <li>hosiawak</li>
  <li>leoncio caminha</li>
  <li>Aviv Ben-Yosef</li>
  <li>ren</li>
  <li>Albert Vernon</li>
  <li>Scott Noel-Hemming</li>
</ul>

<h5 id="closed-issues">Closed Issues</h5>

<ul>
  <li>47c3b17 Move prototypes to util to mitigate nokogiri bug. Fixes #1061</li>
  <li>45e0601 Add HAVE_ macros for blocking region stuff. Fixes #977</li>
  <li>f6567b8 Don&rsquo;t use Kernel#sleep to know how much time has past. Fixes #986</li>
  <li>ee2bdc2 Make sure that a local addrinfo side is found. Fixes #989</li>
  <li>3fa02ec Fix CompiledMethod#locate_line. Fixes #1040</li>
  <li>f6ac3c8 Include stdint.h where it&rsquo;s needed. Fixes #1036</li>
  <li>ecadf56 Fix []= with splats and all that jazz. Fixes #1021</li>
  <li>57b1181 Fix Method#parameters for non-CompiledMethods. Fixes #925</li>
  <li>6e3be13 Fix Thread.new, .start, and .fork. Fixes #945</li>
  <li>5637a52 Guard all NME operations that need an NMF. Fixes #935</li>
  <li>aeced68 Add rb_check_to_integer, Fixes #933</li>
  <li>38a5f97 Add support for -s on the cli. Fixes #879</li>
  <li>52532b0 Don&rsquo;t count a space leader request against the total width. Fixes #893</li>
  <li>bef7f50 Handle certain operator symbol values specially. Fixes #895</li>
  <li>06da168 Handle STDIN being closed by default. Fixes #916</li>
  <li>a81a80d Only check frozen if there is modification in Array#delete. Fixes #913</li>
  <li>75a1817 Create a specific Time subclass. Fixes #902</li>
  <li>675e9ca Provide size for converting byte_array into string. Fixes #887</li>
  <li>6a5cd94 Handle reopening a module that was included into Object. Fixes #883</li>
  <li>185efbf Fix Object.const_defined? wrt include modules. Fixes #865</li>
  <li>cf9aea7 Exclude singleton classes from OS.each_object. Fixes #867</li>
  <li>7c0371e Set -P option to compiler to print the AST. Fixes #861</li>
  <li>dba9314 Handle detect the ip for a line better. Fixes #719</li>
  <li>06c3412 in Array#==, use the raw Tuples. Fixes #822</li>
  <li>3973f6d Move Module#constants/constants_table =&gt; constant_table. Fixes #735</li>
  <li>02330f0 Use an offensive copy in Array#permutation. Fixes #775</li>
  <li>c401af1 Add Rubinius.current_file. Fixes #841</li>
  <li>944a6d1 Fix build on FreeBSD - Fixes #844</li>
  <li>9c72fba Conditional SSLv2 usage. Fixes #818</li>
  <li>f079e72 Handle Marshal&rsquo;ing a Mutex and Channel better. Fixes #821</li>
  <li>9f3d790 Add rb_cMethod. Fixes #816</li>
  <li>f1c6d65 Remove duplicate local names from #local_variables. Fixes #772</li>
  <li>9693227 Don&rsquo;t screw with vcall new. Fixes #777</li>
  <li>e70c097 Disable fibers on &gt;= 10.7. Fixes #815</li>
  <li>29e5f49 Apply StringScanner speedup patch. Fixes #716</li>
  <li>0640ece Apply patch for todo. Fixes #810</li>
  <li>087ae79 Handle the GIL around FFI callbacks. Fixes #796</li>
  <li>d3026d6 Read the static scope for an inlined block properly. Fixes #807</li>
  <li>c2992f9 Also install tooling extensions. Fixes #806</li>
  <li>26b1398 assume RWX memory is available for ffi on linux (jit requirement); selinux users: setsebool allow_execmem true. Fixes #782</li>
  <li>115c1a0 improve performance of Time#&lt;=&gt;. Fixes #785</li>
  <li>cf71b7d correct BigDecimal::ROUND_HALF_DOWN/ROUND_HALF_EVEN behavior. Fixes #781</li>
  <li>d962458 Ignore requests to set DATA unless in the main script. Fixes #790</li>
  <li>b653999 Marshal.load raises ArgumentError on unknown class/modules (Fixes #791)</li>
  <li>2675eb8 Make sure that String::c_str() unshares before clamping. Fixes #793</li>
  <li>596adbb rb_ary_reverse reverses in-place (Fixes #792)</li>
  <li>44b68fc Added testrb bin from MRI. Fixes #788</li>
  <li>bd3deed Put IRB help in the right place. Fixes #783</li>
  <li>f4210b9 Fix tested braces in Dir.glob (@meadow). Fixes #778</li>
</ul>

<h5 id="documentation">Documentation</h5>
<ul>
  <li>New blog post: rubinius around the world map and pins of shirts/tshirts</li>
  <li>New blog post: rubinius summit hollywood edition june twenty oh elleven</li>
  <li>Added AST docs</li>
  <li>Add German translation of GC docs</li>
  <li>Updated spanish translation to the How-To Write Documentation page</li>
  <li>Translated debugger and memory analysis to Polish</li>
  <li>New blog Post: 2.0 Developer Preview.</li>
  <li>Start French documentation</li>
  <li>Translating Rubinius English Documentation to Portuguese Brazilian - Appendix b</li>
  <li>New blog post: rubinius rewards</li>
  <li>Add brief overview of Actors to concurrency docs</li>
  <li>FreeBSD notice in Requirements</li>
  <li>Updated RVM section in Readme with more detail and clarity.</li>
  <li>New blog post: Running Ruby With No Ruby.</li>
</ul>

<h5 id="platform-fixes">Platform Fixes</h5>
<ul>
  <li>Add a bunch of errno&rsquo;s from FreeBSD</li>
</ul>

<h5 id="performance-fixes">Performance Fixes</h5>
<ul>
  <li>Speed up capi::HandleSet by adding an allocationless fast path</li>
  <li>Increase the malloc threshold to 100M</li>
  <li>3x speedup in String#insert</li>
  <li>String#[] perf improved by 55% for the Fixnum case by removing not needed coerce_to</li>
  <li>Speed up some easy case for Array#*</li>
  <li>Speed up Array#map and #map! by 3x</li>
  <li>Increase performance of Module#public_/private_ and protected_methods</li>
  <li>Improve perf of Module#instance_methods and LookupTable#each</li>
  <li>Speed up Dir.glob for realistic workloads</li>
  <li>Improve the performance of mp_set_long</li>
  <li>Improve performance of Time#to_f</li>
</ul>

<h5 id="additions">Additions</h5>
<ul>
  <li>Added Rubinius::KERNEL_PATH and install kernel .rb files.</li>
  <li>Add ability to display CAPI methods in backtraces</li>
  <li>Slow but usable IO.ioctl</li>
  <li>Add FFI::Pointer.size for compatibility with ruby-ffi</li>
  <li>Add ability to set the marksweep allocation threshold</li>
  <li>Added version checking to rbc loading.</li>
  <li>Improve the details the VM can show about a CompiledMethod</li>
  <li>New blog post: adam prescott on scopes in rubinius</li>
  <li>Remove Moment, not in use.</li>
  <li>Added -Xprofiler.output=name option.</li>
  <li>Simplify FalseClass#^.</li>
  <li>Ignore tooling/profiler generated Makefile.</li>
  <li>Move profiler to generic tooling framework</li>
  <li>Add rb_struct_getmember to CAPI</li>
  <li>Add rb_alias to CAPI</li>
  <li>Add rb_ary_to_ary to CAPI</li>
  <li><strong>BIG</strong> improvement for Time#&lt;=&gt;, credit should go to meadow</li>
  <li>Add tool for rendering call graph as HTML</li>
  <li>Add @avibryant&rsquo;s protobuf decoding benchmark</li>
  <li>Update to latest OpenSSL extension from 1.8.7</li>
  <li>Add ability to disable inlining a method preemptively</li>
</ul>

<h5 id="bug-fixes">Bug Fixes</h5>
<ul>
  <li>Load correct digest file, fixes broken Rubygems</li>
  <li>Fix Module#dup: use the direct_superclass instead of superclass</li>
  <li>Fixing inplace edit when no backup extension provided</li>
  <li>Add CodeLoader.compiled_hook, triggered after a source file is compiled</li>
  <li>Ported OpenStruct fix from MRI.</li>
  <li>Tag OpenStruct failures.</li>
  <li>Let IO#each increase the line count</li>
  <li>Memory allocated with ALLOC_N not freed by XFREE in edge cases</li>
  <li>Add spec for File.owned? and fix a bug</li>
  <li>Fixed memory leak, memory allocated by new[] was freed by delete instead of delete[]</li>
  <li>Removed characters accessor from String.</li>
  <li>Add &lsquo;more correct&rsquo; -S flag for running gem commands in README</li>
  <li>Add support for -i CLI option</li>
  <li>Pick the proper local address to bind with</li>
  <li>Stop currently running methods to fix profiler results</li>
  <li>Fix SortedSet to ensure objects comparable with &lt;=&gt;</li>
  <li>Translate appendix-a-glossary.markdown to pt-br</li>
  <li>Fixed rb_num2long, rb_num2ulong.</li>
  <li>Reenter managed mode BEFORE creating an FFI result object</li>
  <li>Honor Time subclasses in the right places</li>
  <li><strong>rbx report</strong> should not fail silently when Gist submission didn&rsquo;t work</li>
  <li>Add bounds checking to to_chars and make sure it&rsquo;s 0 terminated</li>
  <li>Add dummy P rules for pack/unpack</li>
  <li>Have libc include a version number to deal with gentoo</li>
  <li>Fixed File.directory?.</li>
  <li>Allow rbx_meta_to_s to raise an exception</li>
  <li>Make Module#const_get the proper arity (rails fix)</li>
  <li>Fix Kernel#binding and it&rsquo;s self(ish) rules</li>
  <li>Freeze strings returned by ENV.[].</li>
  <li>Fix &lt;=, ==, &gt;= comparisons to avoid trivial object identity comparisons.</li>
  <li>Bounds check and avoid c_str() in Regexp prims</li>
  <li>Fix building with LLVM disabled</li>
  <li>Add workaround for setting ruby_verbose / ruby_debug in C extensions</li>
  <li>Fix render_profile, scripts, and thread runtimes</li>
  <li>Use Type.object_kind_of? instead of Class.===.</li>
  <li>Use object&rsquo;s #respond_to? in Type.try_convert.</li>
  <li>Add additional safety checks to using the data of a String in the vm</li>
  <li>Correct mistaken usage of $stdin instead of $stdout in putc</li>
  <li>Fix #source_location for methods defined using define_method.</li>
  <li>Fix Marshal.dump for 64-bit Fixnum</li>
  <li>Errno::ISCONN -&gt; Errno::EISCONN</li>
  <li>Marshal.load wraps NameError in ArgumentError</li>
  <li>Fixed YAML parsing second fraction to microseconds from iso8601 date</li>
  <li>Fix colliding Hash#entries method name</li>
  <li>Fix build on OpenBSD</li>
  <li>Fixed Array.slice!(0) for consecutive calls</li>
  <li>Fix Enumerable.include?(obj) to use call e_item==(obj), not obj==(e_item)</li>
  <li>Force LLVM to treat sandy bridge as core2</li>
</ul>

    </div>
  </div>
<footer>
  <div class='container'>
    <nav>
      <ul>
        <li><a rel="external" href="http://twitter.com/rubinius">Follow Rubinius on Twitter</a></li>
        <li><a rel="external" href="http://github.com/rubinius/rubinius">Fork Rubinius on github</a></li>
        <li><a rel="external" href="http://engineyard.com">An Engine Yard project</a></li>
      </ul>
    </nav>
  </div>
</footer>

<script>
  var _gaq=[['_setAccount','UA-12328521-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>


  </body>
</html>

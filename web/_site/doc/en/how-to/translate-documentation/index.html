<!DOCTYPE html>
<html>
  <head>
    <title>How-To - Translate Documentation - Rubinius</title>
    <meta content='text/html;charset=utf-8' http-equiv='content-type'>
    <meta content='en' http-equiv='content-language'>
    <meta content='Rubinius is an implementation of the Ruby programming language. The Rubinius bytecode virtual machine is written in C++. The bytecode compiler is written in pure Ruby. The vast majority of the core library is also written in Ruby, with some supporting primitives that interact with the VM directly.' name='description'>
    <meta content='Less Than Three. &lt;3. http://less.thanthree.com' name='author'>
    <link href='/' rel='home'>
    <link href='/' rel='start'>
    <link href='/doc/en/how-to/write-documentation' rel='prev' title='Write Documentation'>
    <link href='/doc/en/appendix-a-glossary' rel='next' title='Appendix A - Glossary'>
    
    <!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script><![endif]-->
    <script src="/javascripts/jquery-1.3.2.js" type="text/javascript"></script>
    <script src="/javascripts/paging_keys.js" type="text/javascript"></script>
    
    <script src="/javascripts/application.js" type="text/javascript"></script>
    <style>article, aside, dialog, figure, footer, header, hgroup, menu, nav, section { display: block; }</style>

    <link href="/stylesheets/blueprint/screen.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/application.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/blueprint/print.css" media="print" rel="stylesheet" type="text/css" />
    <!--[if IE]><link href="/stylesheets/blueprint/ie.css" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
    <!--[if IE]><link href="/stylesheets/ie.css" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
    <link href="/stylesheets/pygments.css" media="screen" rel="stylesheet" type="text/css" />
  </head>
    <body>
        <div class='container'>
      <div class='span-21 doc_menu'>
        <header>
                    <nav>
            <ul>
              <li><a href="/">Home</a></li>
              <li><a id="blog" href="/blog/">Blog</a></li>
              <li><a id="documentation" href="/doc/en/">Documentation</a></li>
              <li><a href="/projects/">Projects</a></li>
              <li><a href="/roadmap/">Roadmap</a></li>
              <li><a href="/releases/">Releases</a></li>
            </ul>
          </nav>

        </header>
      </div>
            <div class='span-3 last'>
        <div id='version'>
          <a href="/releases/1.2.3">1.2.3</a>
        </div>
      </div>

    </div>


    <div class="container languages">
  <nav>
  <span class="label">Languages:</span>
  <ul>
    
    
    
    <li><a href="/doc/de/how-to/translate-documentation/"
      
      >de</a></li>
    
    
    
    <li><a href="/doc/en/how-to/translate-documentation/"
      
      class="current"
      
      >en</a></li>
    
    
    
    <li><a href="/doc/es/how-to/translate-documentation/"
      
      >es</a></li>
    
    
    
    <li><a href="/doc/fr/how-to/translate-documentation/"
      
      >fr</a></li>
    
    
    
    <li><a href="/doc/ja/how-to/translate-documentation/"
      
      >ja</a></li>
    
    
    
    <li><a href="/doc/pl/how-to/translate-documentation/"
      
      >pl</a></li>
    
    
    
    <li><a href="/doc/pt-br/how-to/translate-documentation/"
      
      >pt-br</a></li>
    
    
    
    <li><a href="/doc/ru/how-to/translate-documentation/"
      
      >ru</a></li>
    
  </ul>
  </nav>
</div>


        <div class="container doc_page_nav">
      
        
        <span class="label">Previous:</span>
        <a href="/doc/en/how-to/write-documentation">Write Documentation</a>
        

        <span class="label">Up:</span>
        <a href="/doc/en/">Table of Contents</a>

        
        <span class="label">Next:</span>
        <a href="/doc/en/appendix-a-glossary">Appendix A - Glossary</a>
        
      
    </div>


    <div class="container documentation">
      <h2>How-To - Translate Documentation</h2>

      

      

        <p>There are two translation tasks:</p>

<ol>
  <li>updating an existing translation</li>
  <li>creating a completely new translation</li>
</ol>

<p>Begin by reading <a href="/doc/en/how-to/write-documentation/">How-To - Write
Documentation</a></p>

<h3 id="updating-an-existing-translation">Updating an Existing Translation</h3>

<p>To update an existing translation, open the topic file under <code>web/doc/LANG</code>
and edit the existing text or add newly translated text.</p>

<h3 id="creating-a-new-translation">Creating a New Translation</h3>

<p>To create a new language translation:</p>

<ol>
  <li>Copy <code>web/doc/en</code> to <code>web/doc/LANG</code> where <em>LANG</em> is the
<a href="http://en.wikipedia.org/wiki/List_of_ISO_639-2_codes">ISO-639-1</a> code for
the language translation you are creating.</li>
  <li>Edit the links in the Table of Contents to point to the location of the
files for the translation. (Note that for some reason the <code>page.base_dir</code>
attribute is not available when these files are being rendered by Jekyll.
This needs to be investigated.)</li>
  <li>Translate the English text to the target language.</li>
  <li>Add a corresponding value to <code>languages</code> attribute in YAML front-matter of
<code>web/_layouts/doc.html</code>.</li>
  <li>Add a corresponding value to <code>TRANS</code> array in <code>rakelib/web.rake</code>(see below).</li>
</ol>

<h3 id="translators-tool">Translator&rsquo;s Tool</h3>

<p>We&rsquo;ve made some tiny tools to aid translators. Technically, there&rsquo;s only one
such tool yet. It&rsquo;s <strong>Translator Consistency Checker</strong>.</p>

<h4 id="short-synopsis">Short Synopsis</h4>

<pre><code>$ cd rubinius
$ rake -T

...

rake web:translations:check                # Check web documentation translations for existence and mtime consistency.

$ rake web:translations:check
(in /usr/home/paul/develop/ruby/rubinius)

TRANSLATION CHECK: Checking 'web/doc/en' recursively against ["de", "es", "fr", "ja", "pl", "pt-br", "ru"] versions

NB:

  LOST IN TRANSLATION:
    web/doc/en/how-to/write-benchmarks.markdown: doesn't exist in 'ru' edition
    web/doc/en/bytecode-compiler/customization.markdown: doesn't exist in 'ru' edition
    web/doc/en/bytecode-compiler/encoder.markdown: doesn't exist in 'ru' edition
    web/doc/en/bytecode-compiler/packager.markdown: doesn't exist in 'ru' edition
    web/doc/en/bytecode-compiler/writer.markdown: doesn't exist in 'ru' edition


  LAG IN TRANSLATION:
    web/doc/en/garbage-collector/large-objects.markdown: is younger than its 'pl' version
    web/doc/en/garbage-collector/mature-generation.markdown: is younger than its 'ru' version
    web/doc/en/garbage-collector/nursery.markdown: is younger than its 'ru' version
    web/doc/en/garbage-collector/young-generation.markdown: is younger than its 'ru' version
    web/doc/en/systems/concurrency.markdown: is younger than its 'pl' version
    web/doc/en/ruby/instance-variables.markdown: is younger than its 'ru' version
    web/doc/en/bytecode-compiler/ast.markdown: is younger than its 'ru' version
    web/doc/en/bytecode-compiler/parser.markdown: is younger than its 'pl' version
    web/doc/en/garbage-collector.markdown: is younger than its 'ru' version
</code></pre>

<h4 id="explanation">Explanation</h4>

<p><code>web:translations:check</code> rake task recursively checks &ldquo;Leader&rdquo; docs version (which is
now <code>web/doc/en</code> subtree) against the list of translated &ldquo;followers&rdquo;. Both
leader and translations list are defined in <code>rakelib/web.rake</code>:</p>

<pre><code># This is the 'leader' version: all is translated from here.
LEADER = "web/doc/en"

# Here we MANUALLY list all official doc translations
TRANS  = [
  'de',
  'es',
  'fr',
  'ja',
  'pl',
  'pt-br',
  'ru'
]
</code></pre>

<p>For each Leader file the script checks whether the corresponding translation
file exist and has <code>mtime</code> younger (less) than the Leader&rsquo;s. If translation is
older than the original Leader file or doesn&rsquo;t exist you&rsquo;ll see that very nice
annoying message as shown in the example. If all files are OK you&rsquo;ll see and recognize
that.</p>

<h4 id="conclusion">Conclusion</h4>

<p>This mega duper tiny stupid tool was written to help the translator to
understand which files might obviously need alteration. No more. There&rsquo;s no
intellectual analysis like translation validity check, etc. &mdash; at all. If you
are the smartest Rubinius contributor ever you are welcome to expand this tool
thus helping the society and saving the world!</p>


    </div>

        <div class="container doc_page_nav">
      
        
        <span class="label">Previous:</span>
        <a href="/doc/en/how-to/write-documentation">Write Documentation</a>
        

        <span class="label">Up:</span>
        <a href="/doc/en/">Table of Contents</a>

        
        <span class="label">Next:</span>
        <a href="/doc/en/appendix-a-glossary">Appendix A - Glossary</a>
        
      
    </div>


    <div class="container">
      <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'rubinius';
    var disqus_identifier = '/doc/en/how-to/translate-documentation/';
    var disqus_url = 'http://rubini.us/doc/en/how-to/translate-documentation/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </div>

        <footer>
      <div class='container'>
        <nav>
          <ul>
            <li><a href="http://twitter.com/rubinius">Follow Rubinius on Twitter</a></li>
            <li><a href="http://github.com/rubinius/rubinius">Fork Rubinius on github</a></li>
            <li><a href="http://engineyard.com">An Engine Yard project</a></li>

            <li id='credit'>
              Site design by
              <a href="http://less.thanthree.com">Less Than Three</a>
            </li>
          </ul>
        </nav>
      </div>
    </footer>
        <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
        </script>

        <script type="text/javascript">
        try {
        var pageTracker = _gat._getTracker("UA-12328521-1");
        pageTracker._trackPageview();
        } catch(err) {}</script>

  </body>

</html>

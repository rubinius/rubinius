<!DOCTYPE html>
<html>
  <head>
    <title>How-To - Write a Ticket - Rubinius</title>
    <meta content='text/html;charset=utf-8' http-equiv='content-type'>
    <meta content='en' http-equiv='content-language'>
    <meta content='Rubinius is an implementation of the Ruby programming language. The Rubinius bytecode virtual machine is written in C++. The bytecode compiler is written in pure Ruby. The vast majority of the core library is also written in Ruby, with some supporting primitives that interact with the VM directly.' name='description'>
    <meta content='Less Than Three. &lt;3. http://less.thanthree.com' name='author'>
    <link href='/' rel='home'>
    <link href='/' rel='start'>
    <link href='/doc/en/how-to' rel='prev' title='How-To'>
    <link href='/doc/en/how-to/write-a-ruby-spec' rel='next' title='Write a Ruby Spec'>
    
    <!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script><![endif]-->
    <script src="/javascripts/jquery-1.3.2.js" type="text/javascript"></script>
    <script src="/javascripts/paging_keys.js" type="text/javascript"></script>
    
    <script src="/javascripts/application.js" type="text/javascript"></script>
    <style>article, aside, dialog, figure, footer, header, hgroup, menu, nav, section { display: block; }</style>

    <link href="/stylesheets/blueprint/screen.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/application.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/blueprint/print.css" media="print" rel="stylesheet" type="text/css" />
    <!--[if IE]><link href="/stylesheets/blueprint/ie.css" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
    <!--[if IE]><link href="/stylesheets/ie.css" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
    <link href="/stylesheets/pygments.css" media="screen" rel="stylesheet" type="text/css" />
  </head>
    <body>
        <div class='container'>
      <div class='span-21 doc_menu'>
        <header>
                    <nav>
            <ul>
              <li><a href="/">Home</a></li>
              <li><a id="blog" href="/blog/">Blog</a></li>
              <li><a id="documentation" href="/doc/en/">Documentation</a></li>
              <li><a href="/projects/">Projects</a></li>
              <li><a href="/roadmap/">Roadmap</a></li>
              <li><a href="/releases/">Releases</a></li>
            </ul>
          </nav>

        </header>
      </div>
            <div class='span-3 last'>
        <div id='version'>
          <a href="/releases/1.2.3">1.2.3</a>
        </div>
      </div>

    </div>


    <div class="container languages">
  <nav>
  <span class="label">Languages:</span>
  <ul>
    
    
    
    <li><a href="/doc/de/how-to/write-a-ticket/"
      
      >de</a></li>
    
    
    
    <li><a href="/doc/en/how-to/write-a-ticket/"
      
      class="current"
      
      >en</a></li>
    
    
    
    <li><a href="/doc/es/how-to/write-a-ticket/"
      
      >es</a></li>
    
    
    
    <li><a href="/doc/fr/how-to/write-a-ticket/"
      
      >fr</a></li>
    
    
    
    <li><a href="/doc/ja/how-to/write-a-ticket/"
      
      >ja</a></li>
    
    
    
    <li><a href="/doc/pl/how-to/write-a-ticket/"
      
      >pl</a></li>
    
    
    
    <li><a href="/doc/pt-br/how-to/write-a-ticket/"
      
      >pt-br</a></li>
    
    
    
    <li><a href="/doc/ru/how-to/write-a-ticket/"
      
      >ru</a></li>
    
  </ul>
  </nav>
</div>


        <div class="container doc_page_nav">
      
        
        <span class="label">Previous:</span>
        <a href="/doc/en/how-to">How-To</a>
        

        <span class="label">Up:</span>
        <a href="/doc/en/">Table of Contents</a>

        
        <span class="label">Next:</span>
        <a href="/doc/en/how-to/write-a-ruby-spec">Write a Ruby Spec</a>
        
      
    </div>


    <div class="container documentation">
      <h2>How-To - Write a Ticket</h2>

      

      

        <p>The Rubinius issue tracker is <a href="http://github.com/rubinius/rubinius/issues">http://github.com/rubinius/rubinius/issues</a>.</p>

<p>To be useful, tickets must be concise, focused, and actionable. If not, the
ticket will languish and become clutter. Accordingly, tickets must fall into
one (or more) of the following categories:</p>

<ol>
  <li>A precise command line history showing how to install and invoke the
program and showing the backtrace for an exception.</li>
  <li>A short piece of code illustrating the problem and the command line to
invoke it.</li>
  <li>A patch, <strong>including specs if they do not already exist</strong>, and showing
the spec runs before and after applying the patch.</li>
</ol>

<p>If your issue doesn&rsquo;t fit into one of the categories, it is not invalid. It is
simply not appropriate for a ticket.</p>

<ol>
  <li>If it is a feature, consider discussing it on the mailing list. Also, you
could take a crack at implementing it and demonstrate how your feature is
useful.</li>
  <li>If it is a library or gem that is not working, take some time to dig in
and see if you can create a reproduction for an issue and post that as a
ticket.</li>
</ol>

<h2 id="general-procedure-for-submitting-a-ticket">General procedure for submitting a ticket</h2>

<ol>
  <li>
    <p>Double-check.</p>

    <ol>
      <li>Do a full rebuild (&lsquo;rake clean; rake&rsquo;) after a &lsquo;git pull&rsquo; or fresh clone.</li>
      <li>Read <a href="/doc/en/getting-started/troubleshooting">Troubleshooting</a>
to see if something there resolves the issue.</li>
      <li>Read <a href="/doc/en/specs/">Specs</a>.</li>
    </ol>
  </li>
  <li>
    <p>Give your ticket a specific, preferably short title.</p>
  </li>
  <li>
    <p>Give your ticket appropriate tags.</p>
  </li>
  <li>
    <p>Give enough detail about the issue.</p>

    <ul>
      <li>The command line for invoking the program</li>
      <li>The backtrace or result from the program versus expected result.</li>
      <li>Your machine information. <code>uname -a</code> is usually good (if there are any
&ldquo;unknown&rdquo; fields in it, please elaborate on those.)</li>
    </ul>
  </li>
</ol>

<h2 id="additional-instructions-for-tickets-with-patches">Additional instructions for tickets with patches</h2>

<ul>
  <li>Can be just a set of specs.</li>
  <li>Patches must be accompanied by specs unless the specs already exist.</li>
  <li>Relevant part of spec output and the exact &lsquo;bin/mspec&rsquo; invocation from the
existing or added spec <em>before the fix</em>.</li>
  <li>The spec output and the exact &lsquo;bin/mspec&rsquo; invocation  showing success
<em>after</em> the fix.</li>
  <li>Additional description of your patch and how it fixes the problem. In
particular with new functionality please indicate if it was already
discussed on #rubinius or ruby-dev.</li>
</ul>

<p>Unless for some reason impossible, please use &lsquo;git-format-patch&rsquo; to create the
patchset. It is much easier to apply and it preserves the correct attribution.
Otherwise, a unified diff.</p>

<h2 id="example-of-submitting-a-patch">Example of submitting a patch</h2>

<p>Suppose the following spec exists and is failing:</p>

<pre><code>describe "Kernel.format" do
  it "is accessible as a module function" do
    Kernel.format("%s", "hello").should == "hello"
  end
end
</code></pre>

<ol>
  <li>
    <p>Ticket Title:</p>

    <p>&ldquo;[PATCH] No method &lsquo;format&rsquo; on Kernel (Module)&rdquo;</p>
  </li>
  <li>
    <p>Tags:</p>

    <p>&ldquo;patch core spec&rdquo;</p>
  </li>
  <li>
    <p>Ticket Message:</p>

    <p>The method &lsquo;format&rsquo; is not available as a module function of Kernel.</p>

    <pre><code>$ bin/mspec spec/ruby/core/kernel/format_spec.rb
Started
.E

1)
Kernel.format is accessible as a module function ERROR
No method 'format' on Kernel (Module):
</code></pre>

    <p>The method &lsquo;format&rsquo; already exists but has not been set as a module
function.  This patch does so.</p>

    <p>After the patch is applied:</p>

    <pre><code>$ bin/mspec spec/ruby/core/kernel/format_spec.rb
Started
..

Finished in 0.016031 seconds

2 examples, 2 expectations, 0 failures, 0 errors
</code></pre>
  </li>
  <li>
    <p>Attachment:</p>
  </li>
</ol>

<p>Finally, put your patch in a gist and add the link to the gist to your issue.
Below the patch is reproduced inline for completeness:</p>

<pre><code>From c61cecce6442347ebbdf1ded7a5c0832c97582c1 Mon Sep 17 00:00:00 2001
From: Brian Ford &lt;bford@engineyard.com&gt;
Date: Sat, 19 Jan 2008 17:48:19 -0800
Subject: [PATCH] Set Kernel#format as a module function.


diff --git a/kernel/core/kernel.rb b/kernel/core/kernel.rb
index 2d2e508..f2a382e 100644
--- a/kernel/core/kernel.rb
+++ b/kernel/core/kernel.rb
@@ -150,6 +150,7 @@ module Kernel
   end
   alias_method :format, :sprintf
   module_function :sprintf
+  module_function :format
   module_function :abort

   def puts(*a)
</code></pre>



    </div>

        <div class="container doc_page_nav">
      
        
        <span class="label">Previous:</span>
        <a href="/doc/en/how-to">How-To</a>
        

        <span class="label">Up:</span>
        <a href="/doc/en/">Table of Contents</a>

        
        <span class="label">Next:</span>
        <a href="/doc/en/how-to/write-a-ruby-spec">Write a Ruby Spec</a>
        
      
    </div>


    <div class="container">
      <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'rubinius';
    var disqus_identifier = '/doc/en/how-to/write-a-ticket/';
    var disqus_url = 'http://rubini.us/doc/en/how-to/write-a-ticket/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </div>

        <footer>
      <div class='container'>
        <nav>
          <ul>
            <li><a href="http://twitter.com/rubinius">Follow Rubinius on Twitter</a></li>
            <li><a href="http://github.com/rubinius/rubinius">Fork Rubinius on github</a></li>
            <li><a href="http://engineyard.com">An Engine Yard project</a></li>

            <li id='credit'>
              Site design by
              <a href="http://less.thanthree.com">Less Than Three</a>
            </li>
          </ul>
        </nav>
      </div>
    </footer>
        <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
        </script>

        <script type="text/javascript">
        try {
        var pageTracker = _gat._getTracker("UA-12328521-1");
        pageTracker._trackPageview();
        } catch(err) {}</script>

  </body>

</html>

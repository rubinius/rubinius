<!DOCTYPE html>
<html>
  <head>
    <title>Перевод документации - Rubinius</title>
    <meta content='text/html;charset=utf-8' http-equiv='content-type'>
    <meta content='ru' http-equiv='content-language'>
    <meta content='Rubinius is an implementation of the Ruby programming language. The Rubinius bytecode virtual machine is written in C++. The bytecode compiler is written in pure Ruby. The vast majority of the core library is also written in Ruby, with some supporting primitives that interact with the VM directly.' name='description'>
    <meta content='Less Than Three. &lt;3. http://less.thanthree.com' name='author'>
    <link href='/' rel='home'>
    <link href='/' rel='start'>
    <link href='/doc/ru/how-to/write-documentation' rel='prev' title='Написание Документации'>
    <link href='/doc/ru/appendix-a-glossary' rel='next' title='Приложение A - Глоссарий'>
    
    <!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script><![endif]-->
    <script src="/javascripts/jquery-1.3.2.js" type="text/javascript"></script>
    <script src="/javascripts/paging_keys.js" type="text/javascript"></script>
    
    <script src="/javascripts/application.js" type="text/javascript"></script>
    <style>article, aside, dialog, figure, footer, header, hgroup, menu, nav, section { display: block; }</style>

    <link href="/stylesheets/blueprint/screen.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/application.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/blueprint/print.css" media="print" rel="stylesheet" type="text/css" />
    <!--[if IE]><link href="/stylesheets/blueprint/ie.css" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
    <!--[if IE]><link href="/stylesheets/ie.css" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
    <link href="/stylesheets/pygments.css" media="screen" rel="stylesheet" type="text/css" />
  </head>
    <body>
        <div class='container'>
      <div class='span-21 doc_menu'>
        <header>
                    <nav>
            <ul>
              <li><a href="/">Home</a></li>
              <li><a id="blog" href="/blog/">Blog</a></li>
              <li><a id="documentation" href="/doc/en/">Documentation</a></li>
              <li><a href="/projects/">Projects</a></li>
              <li><a href="/roadmap/">Roadmap</a></li>
              <li><a href="/releases/">Releases</a></li>
            </ul>
          </nav>

        </header>
      </div>
            <div class='span-3 last'>
        <div id='version'>
          <a href="/releases/1.2.3">1.2.3</a>
        </div>
      </div>

    </div>


    <div class="container languages">
  <nav>
  <span class="label">Языки:</span>
  <ul>
    
    
    
    <li><a href="/doc/de/how-to/translate-documentation/"
      
      >de</a></li>
    
    
    
    <li><a href="/doc/en/how-to/translate-documentation/"
      
      >en</a></li>
    
    
    
    <li><a href="/doc/es/how-to/translate-documentation/"
      
      >es</a></li>
    
    
    
    <li><a href="/doc/fr/how-to/translate-documentation/"
      
      >fr</a></li>
    
    
    
    <li><a href="/doc/ja/how-to/translate-documentation/"
      
      >ja</a></li>
    
    
    
    <li><a href="/doc/pl/how-to/translate-documentation/"
      
      >pl</a></li>
    
    
    
    <li><a href="/doc/pt-br/how-to/translate-documentation/"
      
      >pt-br</a></li>
    
    
    
    <li><a href="/doc/ru/how-to/translate-documentation/"
      
      class="current"
      
      >ru</a></li>
    
  </ul>
  </nav>
</div>


        <div class="container doc_page_nav">
      
        
        <span class="label">Назад:</span>
        <a href="/doc/ru/how-to/write-documentation">Написание Документации</a>
        

        <span class="label">Выше:</span>
        <a href="/doc/ru/">Содержание</a>

        
        <span class="label">Вперед:</span>
        <a href="/doc/ru/appendix-a-glossary">Приложение A - Глоссарий</a>
        
      
    </div>


    <div class="container documentation">
      <h2>Перевод документации</h2>

      

      

        <p>У переводчика две задачи:</p>

<ol>
  <li>обновление существующего перевода некоторой статьи;</li>
  <li>добавление нового перевода.</li>
</ol>

<p>Начните с чтения главы <a href="/doc/ru/how-to/write-documentation/">&laquo;Написание
документации&raquo;</a></p>

<h3 id="section">Обновление существующего перевода</h3>

<p>Чтобы обновить существующий перевод, откройте нужный файл статьи в директории
<code>web/doc/LANG</code> и отредактируйте существующий текст или добавьте
свежепереведенный.</p>

<h3 id="section-1">Добавление нового перевода</h3>

<p>Чтобы создать новую языковую версию перевода, нужно:</p>

<ol>
  <li>Скопировать <code>web/doc/en</code> в <code>web/doc/LANG</code>, где <em>LANG</em> &mdash; это
код стандарта <a href="http://en.wikipedia.org/wiki/List_of_ISO_639-2_codes">ISO-639-2</a> для
языка, на который делается перевод.</li>
  <li>Отредактировать ссылки в &laquo;Содержании&raquo;, чтобы они указывали на правильные файлы
перевода. (<strong>Внимание:</strong> по некоторым причинам атрибут <code>page.base_dir</code> недоступен, когда
файлы обрабатываются программой Jekyll. С этим моментом стоит разобраться.)</li>
  <li>Переведите английский текст на выбранный вами язык.</li>
  <li>Отредактируйте файл <code>web/_layouts/doc.html</code>: добавьте необходимые значения
в атрибут yaml-шапки <code>languages</code>.</li>
  <li>Добавьте необходимые значения в массив <code>TRANS</code> в файле <code>rakelib/web.rake</code>
(см. ниже).</li>
</ol>

<h3 id="section-2">Инструменты переводчика</h3>

<p>Мы создали крошечные программки для облегчения жизни переводчиков.
Точнее, формально программка пока только одна, и называется она <strong>&laquo;Проверка
соответствия переводов&raquo;</strong>.</p>

<h4 id="section-3">Краткий пример использования</h4>

<pre><code>$ cd rubinius
$ rake -T

...

rake web:translations:check                # Check web documentation translations for existence and mtime consistency.

$ rake web:translations:check
(in /usr/home/paul/develop/ruby/rubinius)

TRANSLATION CHECK: Checking 'web/doc/en' recursively against ["de", "es", "fr", "ja", "pl", "pt-br", "ru"] versions

NB:

  LOST IN TRANSLATION:
    web/doc/en/how-to/write-benchmarks.markdown: doesn't exist in 'ru' edition
    web/doc/en/bytecode-compiler/customization.markdown: doesn't exist in 'ru' edition
    web/doc/en/bytecode-compiler/encoder.markdown: doesn't exist in 'ru' edition
    web/doc/en/bytecode-compiler/packager.markdown: doesn't exist in 'ru' edition
    web/doc/en/bytecode-compiler/writer.markdown: doesn't exist in 'ru' edition


  LAG IN TRANSLATION:
    web/doc/en/garbage-collector/large-objects.markdown: is younger than its 'pl' version
    web/doc/en/garbage-collector/mature-generation.markdown: is younger than its 'ru' version
    web/doc/en/garbage-collector/nursery.markdown: is younger than its 'ru' version
    web/doc/en/garbage-collector/young-generation.markdown: is younger than its 'ru' version
    web/doc/en/systems/concurrency.markdown: is younger than its 'pl' version
    web/doc/en/ruby/instance-variables.markdown: is younger than its 'ru' version
    web/doc/en/bytecode-compiler/ast.markdown: is younger than its 'ru' version
    web/doc/en/bytecode-compiler/parser.markdown: is younger than its 'pl' version
    web/doc/en/garbage-collector.markdown: is younger than its 'ru' version
</code></pre>

<h4 id="section-4">Пояснения</h4>

<p>Существует rake-задача <code>web:translations:check</code>, которая рекурсивно сверяет
лидер-версию (сейчас это <code>web/doc/en</code>) с файлами переводов по соответствующему
списку. Лидер-версия и список переводов определены в <code>rakelib/web.rake</code>:</p>

<pre><code># This is the 'leader' version: all is translated from here.
LEADER = "web/doc/en"

# Here we MANUALLY list all official doc translations
TRANS  = [
  'de',
  'es',
  'fr',
  'ja',
  'pl',
  'pt-br',
  'ru'
]
</code></pre>

<p>Для каждого лидер-файла скрипт проверяет:</p>

<ul>
  <li>есть ли вообще соответствующий файл перевода;</li>
  <li>если есть, то не старше ли он своей лидер-версии (сравниваются <code>mtime</code>
файлов)?</li>
</ul>

<p>Если перевод старше оригинала или вообще отсутствует, Вы увидите то ужасно
красивое сообщение, которое приведено в нашем примере. Если с файлами все в
порядке, программа сообщит и об этом &mdash; Вы заметите.</p>

<h4 id="section-5">Заключение</h4>

<p>Эта супер-нано-пупер-тупая тулза была написана для того, чтобы напомнить
переводчику, какие именно файлы могут нуждаться в немедленной доработке.
Никакого интеллектуального анализа, например, на валидность перевода и т.п.
пока не планируется. Если Вы &mdash; умнейший контрибутор Rubinius всех времен и
народов, мы приглашаем Вас расширить возможности настоящего инструмента,
помочь обществу и спасти мир!</p>


    </div>

        <div class="container doc_page_nav">
      
        
        <span class="label">Назад:</span>
        <a href="/doc/ru/how-to/write-documentation">Написание Документации</a>
        

        <span class="label">Выше:</span>
        <a href="/doc/ru/">Содержание</a>

        
        <span class="label">Вперед:</span>
        <a href="/doc/ru/appendix-a-glossary">Приложение A - Глоссарий</a>
        
      
    </div>


    <div class="container">
      <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'rubinius';
    var disqus_identifier = '/doc/ru/how-to/translate-documentation/';
    var disqus_url = 'http://rubini.us/doc/ru/how-to/translate-documentation/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </div>

        <footer>
      <div class='container'>
        <nav>
          <ul>
            <li><a href="http://twitter.com/rubinius">Follow Rubinius on Twitter</a></li>
            <li><a href="http://github.com/rubinius/rubinius">Fork Rubinius on github</a></li>
            <li><a href="http://engineyard.com">An Engine Yard project</a></li>

            <li id='credit'>
              Site design by
              <a href="http://less.thanthree.com">Less Than Three</a>
            </li>
          </ul>
        </nav>
      </div>
    </footer>
        <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
        </script>

        <script type="text/javascript">
        try {
        var pageTracker = _gat._getTracker("UA-12328521-1");
        pageTracker._trackPageview();
        } catch(err) {}</script>

  </body>

</html>

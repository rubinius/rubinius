<!DOCTYPE html>
<html>
  <head>
    <title>How-To - Создание тикета - Rubinius</title>
    <meta content='text/html;charset=utf-8' http-equiv='content-type'>
    <meta content='ru' http-equiv='content-language'>
    <meta content='Rubinius is an implementation of the Ruby programming language. The Rubinius bytecode virtual machine is written in C++. The bytecode compiler is written in pure Ruby. The vast majority of the core library is also written in Ruby, with some supporting primitives that interact with the VM directly.' name='description'>
    <meta content='Less Than Three. &lt;3. http://less.thanthree.com' name='author'>
    <link href='/' rel='home'>
    <link href='/' rel='start'>
    <link href='/doc/ru/how-to' rel='prev' title='How-To'>
    <link href='/doc/ru/how-to/write-a-ruby-spec' rel='next' title='Написание Ruby спецификации'>
    
    <!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script><![endif]-->
    <script src="/javascripts/jquery-1.3.2.js" type="text/javascript"></script>
    <script src="/javascripts/paging_keys.js" type="text/javascript"></script>
    
    <script src="/javascripts/application.js" type="text/javascript"></script>
    <style>article, aside, dialog, figure, footer, header, hgroup, menu, nav, section { display: block; }</style>

    <link href="/stylesheets/blueprint/screen.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/application.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/blueprint/print.css" media="print" rel="stylesheet" type="text/css" />
    <!--[if IE]><link href="/stylesheets/blueprint/ie.css" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
    <!--[if IE]><link href="/stylesheets/ie.css" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
    <link href="/stylesheets/pygments.css" media="screen" rel="stylesheet" type="text/css" />
  </head>
    <body>
        <div class='container'>
      <div class='span-21 doc_menu'>
        <header>
                    <nav>
            <ul>
              <li><a href="/">Home</a></li>
              <li><a id="blog" href="/blog/">Blog</a></li>
              <li><a id="documentation" href="/doc/en/">Documentation</a></li>
              <li><a href="/projects/">Projects</a></li>
              <li><a href="/roadmap/">Roadmap</a></li>
              <li><a href="/releases/">Releases</a></li>
            </ul>
          </nav>

        </header>
      </div>
            <div class='span-3 last'>
        <div id='version'>
          <a href="/releases/1.2.3">1.2.3</a>
        </div>
      </div>

    </div>


    <div class="container languages">
  <nav>
  <span class="label">Языки:</span>
  <ul>
    
    
    
    <li><a href="/doc/de/how-to/write-a-ticket/"
      
      >de</a></li>
    
    
    
    <li><a href="/doc/en/how-to/write-a-ticket/"
      
      >en</a></li>
    
    
    
    <li><a href="/doc/es/how-to/write-a-ticket/"
      
      >es</a></li>
    
    
    
    <li><a href="/doc/fr/how-to/write-a-ticket/"
      
      >fr</a></li>
    
    
    
    <li><a href="/doc/ja/how-to/write-a-ticket/"
      
      >ja</a></li>
    
    
    
    <li><a href="/doc/pl/how-to/write-a-ticket/"
      
      >pl</a></li>
    
    
    
    <li><a href="/doc/pt-br/how-to/write-a-ticket/"
      
      >pt-br</a></li>
    
    
    
    <li><a href="/doc/ru/how-to/write-a-ticket/"
      
      class="current"
      
      >ru</a></li>
    
  </ul>
  </nav>
</div>


        <div class="container doc_page_nav">
      
        
        <span class="label">Назад:</span>
        <a href="/doc/ru/how-to">How-To</a>
        

        <span class="label">Выше:</span>
        <a href="/doc/ru/">Содержание</a>

        
        <span class="label">Вперед:</span>
        <a href="/doc/ru/how-to/write-a-ruby-spec">Написание Ruby спецификации</a>
        
      
    </div>


    <div class="container documentation">
      <h2>How-To - Создание тикета</h2>

      

      

        <p>Трекер Rubinius-а расположен по адресу
<a href="http://github.com/evanphx/rubinius/issues">http://github.com/evanphx/rubinius/issues</a>.</p>

<p>Тикеты должны быть краткими, предметными и осуществимыми. В противном случае
тикет будет подолгу весеть в трекере и мешаться. Поэтому тикеты должны
соответствовать одной или нескольким следующим категориям:</p>

<ol>
  <li>Конкретная строка из терминала, с помощью которой можно установить и
вызвать программу, а также стектрейс исключения.</li>
  <li>Небольшой кусок кода иллюстрирующий проблему, а также командная строка
для его вызова.</li>
  <li>Патч, <strong>вместе со спецификацией, если ее еще нет</strong>, а также результат
выполнения спецификации до и после патча.</li>
</ol>

<p>Если ваш задача не подпадает ни в одну из категорий, это не означает что она
некорректна. Это просто означает, что она не подходит для тикета.</p>

<ol>
  <li>Если вы хотите добавить новую функциональность, попробуйте обсудить это
в мейллисте. Также вы можете попытаться реализовать ее и показать насколько
она полезна.</li>
  <li>Если у вас есть библиотека или гем, которые не работают, попробуйте
разобраться почему и попытайтесь сделать более маленький кусок кода,
воспроизводящий проблему и создайте тикет вместе с ним.</li>
</ol>

<h2 id="section">Общая процедура добавления тикета</h2>

<ol>
  <li>
    <p>Проверьте несколько раз.</p>

    <ol>
      <li>Полностью пересоберите Rubinius (&lsquo;rake clean; rake&rsquo;) после &lsquo;git pull&rsquo;
или нового git clone.</li>
      <li>Прочтите <a href="/doc/ru/getting-started/troubleshooting">Разрешение проблем</a>,
возможно это поможет решить вашу проблему.</li>
      <li>Прочтите <a href="/doc/ru/specs/">Спецификации</a>.</li>
    </ol>
  </li>
  <li>
    <p>Дайте вашему тикету конкретный, желательно короткий заголовок.</p>
  </li>
  <li>
    <p>Снабдите тикет соответствующими тегами.</p>
  </li>
  <li>
    <p>Добавьте в тикет достаточно информации:</p>

    <ul>
      <li>Команду в терминале, с помощью которой можно вызвать программу</li>
      <li>Стектрейс или результат программы вместе с ожидаемым результатом.</li>
      <li>Информацию о вашей машине. <code>uname -a</code> обычно достаточно (если в ней
присутствуют &ldquo;unknown&rdquo; поля, пожалуйста, дополните их.)</li>
    </ul>
  </li>
</ol>

<h2 id="section-1">Дополнительные указания для тикетов с патчами</h2>

<ul>
  <li>Тикеты могут состоять просто из набора спецификаций.</li>
  <li>Патчи должны быть снабжены спецификациями в случае их отсутствия.</li>
  <li>Релевантную часть вывода спецификации и точный вывод &lsquo;bin/mspec&rsquo;,
вызванной с существующей или добавленной спецификацией <em>перед
исправлением</em>.</li>
  <li>Вывод спецификации и вывод &lsquo;bin/mspec&rsquo; показывающий успех <em>после</em>
исправления.</li>
  <li>Дополнительное описание вашего патча и того, как он исправляет проблему.
В частности, что касается новой функциональности, пожалуйста, указывайте
обсуждалось ли это уже на #rubinius или ruby-dev.</li>
</ul>

<p>Если возможно, пожалуйста, используйте &lsquo;git-format-path&rsquo; для создания набора
патчей. Это и упрощает применение патча и сохраняет его атрибуты. В противном
случае используйте унифицированный diff.</p>

<h2 id="section-2">Пример отправки патча</h2>

<p>Предположим следующая спецификация существует и не работает:</p>

<pre><code>describe "Kernel.format" do
  it "is accessible as a module function" do
    Kernel.format("%s", "hello").should == "hello"
  end
end
</code></pre>

<ol>
  <li>
    <p>Заголовок тикета:</p>

    <p>&ldquo;[PATCH] No method &lsquo;format&rsquo; on Kernel (Module)&rdquo;</p>
  </li>
  <li>
    <p>Теги:</p>

    <p>&ldquo;patch core spec&rdquo;</p>
  </li>
  <li>
    <p>Текст в тикете:</p>

    <p>The method &lsquo;format&rsquo; is not available as a module function of Kernel.</p>

    <pre><code>$ bin/mspec spec/ruby/core/kernel/format_spec.rb
Started
.E

1)
Kernel.format is accessible as a module function ERROR
No method 'format' on Kernel (Module):
</code></pre>

    <p>The method &lsquo;format&rsquo; already exists but has not been set as a module
function.  This patch does so.</p>

    <p>After the patch is applied:</p>

    <pre><code>$ bin/mspec spec/ruby/core/kernel/format_spec.rb
Started
..

Finished in 0.016031 seconds

2 examples, 2 expectations, 0 failures, 0 errors
</code></pre>
  </li>
  <li>
    <p>Приложение:</p>
  </li>
</ol>

<p>Наконец, поместите ваш патч в gist и добавьте ссылку на него в тикет.
Ниже приведен патч для целостности картины:</p>

<pre><code>From c61cecce6442347ebbdf1ded7a5c0832c97582c1 Mon Sep 17 00:00:00 2001
From: Brian Ford &lt;bford@engineyard.com&gt;
Date: Sat, 19 Jan 2008 17:48:19 -0800
Subject: [PATCH] Set Kernel#format as a module function.


diff --git a/kernel/core/kernel.rb b/kernel/core/kernel.rb
index 2d2e508..f2a382e 100644
--- a/kernel/core/kernel.rb
+++ b/kernel/core/kernel.rb
@@ -150,6 +150,7 @@ module Kernel
   end
   alias_method :format, :sprintf
   module_function :sprintf
+  module_function :format
   module_function :abort

   def puts(*a)
</code></pre>



    </div>

        <div class="container doc_page_nav">
      
        
        <span class="label">Назад:</span>
        <a href="/doc/ru/how-to">How-To</a>
        

        <span class="label">Выше:</span>
        <a href="/doc/ru/">Содержание</a>

        
        <span class="label">Вперед:</span>
        <a href="/doc/ru/how-to/write-a-ruby-spec">Написание Ruby спецификации</a>
        
      
    </div>


    <div class="container">
      <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'rubinius';
    var disqus_identifier = '/doc/ru/how-to/write-a-ticket/';
    var disqus_url = 'http://rubini.us/doc/ru/how-to/write-a-ticket/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </div>

        <footer>
      <div class='container'>
        <nav>
          <ul>
            <li><a href="http://twitter.com/rubinius">Follow Rubinius on Twitter</a></li>
            <li><a href="http://github.com/evanphx/rubinius">Fork Rubinius on github</a></li>
            <li><a href="http://engineyard.com">An Engine Yard project</a></li>

            <li id='credit'>
              Site design by
              <a href="http://less.thanthree.com">Less Than Three</a>
            </li>
          </ul>
        </nav>
      </div>
    </footer>
        <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
        </script>

        <script type="text/javascript">
        try {
        var pageTracker = _gat._getTracker("UA-12328521-1");
        pageTracker._trackPageview();
        } catch(err) {}</script>

  </body>

</html>
